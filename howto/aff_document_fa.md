# مستند AFF1
مستند نگارش ۱ قلم آراسته.

## این مستند چیست
آراسته یک نرم‌افزار ساخت هنر اسکی از روی نوشته‌های دبیرهٔ عربی است. نرم‌افزارهایی مثل figlet از دبیرهٔ عربی پشتیبانی نمی‌کنند و مستندات قلم‌های آن‌ها محدودیت‌هایی دارد.

در پروژهٔ آراسته تصمیم بر این شده است که قالب جدیدی برای تعریف قلم‌های اسکی ارایه شود که امکانات بیشتری را فراهم کند که هم برای دبیرهٔ عربی کاربرد داشته باشد و هم برای دبیره‌های دیگر همچون لاتین بشود از آن استفاده کرد و از مزیت‌هایش بهره برد.

برای ساخت چنین مستندی، تصمیم چنین شد که این کار را در چند مرحله انجام دهم. این تصمیم دلایل مختلفی دارد. یکی آن است که نمی‌توان همهٔ نیازهای آینده را از الان پیش‌بینی کرد. دلیل دیگر دشوارتر شدن پیاده‌سازی نرم‌افزاری است که از این پشتیبانی کند.

قلم AFF در نگارش ۱ خود، امکان استفاده از دبیرهٔ عربی را اضافه می‌کند. این نگارش قرار نیست از همان آغاز در نرم‌افزار آراسته استفاده شود چرا که درحال‌حاضر آراسته با یک استاندارد نصفه‌ونیمهٔ دیگر کار می‌کند. این مستند برای آن است که بعد از این که نگارش ۲ قلم آراسته طراحی و پیاده‌سازی شد، قلم‌های سنتی به نگارش ۱ قلم آراسته تبدیل شوند و سپس امکان پشتیبانی آن به آراسته افزوده شود. البته هیچ تضمینی برای این اتفاق نیست و نگارش ۲ این قلم اولویت بالاتری دارد.

نگارش ۱ شباهت زیادی به مستند flf نرم‌افزار figlet دارد. اما تفاوت‌های مهمی دارد که این دو را کاملاً از هم متمایز می‌کند.

## ویژگی‌های AFF نگارش ۱
این نگارش از چند امکان پشتیبانی می‌کند:
- تعریف گلیف‌ها برای یک قلم در دبیرهٔ عربی
- امکان مشخص کردن تنوع حروف (اول، وسط، آخر یا تنها)

## ساختار فایل
این یک فایل متنی است.

خط اول این فایل متنی سربرک است که شامل موارد زیر است:


```
         aff1$ 6 5 20 3 1 229    NOTE: The first five characters in
          |  | | | |  | |  |     the entire file must be "aff1$".
         /  /  | | |  | |   \
Signature  /  /  | |  | |    Codetag_Count
  Hardblank  /  /  |  |  \
       Height  /   |   \  Print_Direction
       Baseline   /    Comment_Lines
        Max_Length   
```

این سرآیند از ۹ بخش تشکیل شده است. بخش اول آن flf2a$ است که نمایانگر فرمت فایل می‌باشد.  
۸ مورد بعدی عدد هستند که توضیحات آن‌ها در زیر آمده است.
1.  ارتفاع نویسه‌ها که باید عددی ثابت باشد.
2. خط کرسی. شمارهٔ خط کرسی نویسه‌ها از بالا. شماره‌گذاری خطوط از ۱ آغاز می‌شود.
3. بیشینهٔ طول بلوک. طول بزرگ‌ترین بلوک (اندازهٔ طولانی‌ترین خط در بین همهٔ بلوک‌ها).
4. تعداد خط‌های کامنت (توضیحات) که بعد از سرآیند می‌آید.
5. جهت چاپ که برای قلم‌های راست‌به‌چپ باید برابر 1 باشد. ممکن است قلمی طراحی شود که نوشته را به‌شکل آینه‌ای از چپ‌به‌راست نمایش دهد. در این صورت این مقدار 0 تنظیم می‌شود.
6. تعداد بلوک‌های موجود در قلم



چند خط بعدی توضیحات هستند. مواردی مانند اسم طراح قلم، پروانهٔ قلم یا تاریخ انتشار را می‌توانید در این‌جا ذکر کنید. تعداد خطوط توضیحات باید در سربرگ مشخص شود.

بعد از سربرگ و توضیحات، نوبت تعریف هر گلیف می‌رسد. به هر یک از آن‌ها یک بلوک می‌گوییم.


### بلوک‌ها

هر بلوک از تعدادی خط تشکیل شده است. در انتهای هر خط یک نویسهٔ @ وجود دارد. در انتهای خط آخر ۲ تا نویسهٔ @ وجود دارد.


قبل از شروع هر بلوک، نویسه‌ای که این بلوک مربوط به آن است نوشته می‌شود. تفاوت مهم این فرمت با فرمت flf نرم‌افزار figlet در این بخش است. در فرمت flf بالای هر بلوک دقیقاً یک نویسه قرار می‌گیرد. مثلاً M. 

اما در فرمت alf1، باتوجه‌به این که هر حرف فارسی ۲ یا ۴ حالت دارد که درصورت چسبیدن به حروف دیگر تغییر می‌کند (مثلاً برای حرف ع این‌ها هستند: ع، عـ، ـع، ـعـ) برای سهولت کار به‌جای گذاشتن معادل عینی آن‌ها در utf-8 این نویسه‌ها را با یک نویسهٔ کشیده (ـ) همراه می‌کنیم. پس برای مثال برای حرف ب، ۴ بلوک خواهیم داشت که بالای بلوک‌ها این‌ها نوشته شده است: «ب، بـ، ـب، ـبـ»

یک نمونه از بلوک که مربوط به حرف ب در حالت اول است (ب اول) و از سمت چپ خود به حرف دیگری می‌چسبد در زیر آمده است:

```
بـ
            @
            @
            @
          ██@
  ██████████@
            @
      ██    @
            @@
```

در مثال بالا، خط اول از ۲ نویسه تشکیل شده است. اولی نویسهٔ «ب» و دیگری نویسهٔ کشیده یا «ـ» است.

