# راهنمای ساخت قلم‌های آراسته
این یک فایل راهنما برای ساخت قلم‌های آراسته است.

## فرمت flf

برای راهنمایی بیشتر به این برگه مراجعه کنید.

فرمت flf که نرم‌افزارهای figlet و آراسته از آن استفاده می‌کنند، یک استاندارد برای قلم‌های اسکی است. اما برای نرم‌افزار آراسته تغییراتی در این فایل داده شده است تا کار با آن برای ساخت قلم‌های فارسی آسان‌تر باشد.

هر قلم از مجموعه‌ای از بلوک‌ها تشکیل شده است. هر بلوک مجموعه‌ای از نویسه‌های اسکی است که شکل یک نویسه را در یک تنوع مشخص نمایش می‌دهد. برای مثال بلوک زیر حرف ب را در حالت مستقل (بدون این که از سمت چپ یا راست به حرف دیگری چسبیده باشد) نمایش می‌دهد.

```
            @
            @
            @
  ██      ██@
  ██████████@
            @
      ██    @
            @@
```

### سرآیند

فایل flf از یک سرآیند، چند خط توضیحات و یک مجموعه از بلوک‌های اسکی تشکیل شده است.

سرآیند یک قلم flf به شکل زیر است:

```
        flf2a$ 6 5 20 15 3 0 143 229    NOTE: The first five characters in
          |  | | | |  |  | |  |   |     the entire file must be "flf2a".
         /  /  | | |  |  | |  |   \
Signature  /  /  | |  |  | |   \   Codetag_Count
  Hardblank  /  /  |  |  |  \   Full_Layout*
       Height  /   |  |   \  Print_Direction
       Baseline   /    \   Comment_Lines
        Max_Length      Old_Layout*
```

این سرآیند از ۹ بخش تشکیل شده است. بخش اول آن flf2a$ است که نمایانگر فرمت فایل می‌باشد.  
۸ مورد بعدی عدد هستند که توضیحات آن‌ها در زیر آمده است.
1.  ارتفاع نویسه‌ها که باید عددی ثابت باشد.
2. خط کرسی. شمارهٔ خط کرسی نویسه‌ها از بالا.
3. بیشینهٔ طول بلوک. طول بزرگ‌ترین بلوک (اندازهٔ طولانی‌ترین خط در بین همهٔ بلوک‌ها).
4. در برنامهٔ آراسته از این استفاده نشده است. عدد پیش‌فرض 0 است.
5. تعداد خط‌های کامنت (توضیحات) که بعد از سرآیند می‌آید.
6. جهت چاپ که برای قلم‌های راست‌به‌چپ باید برابر 1 باشد. ممکن است قلمی طراحی شود که نوشته را به‌شکل آینه‌ای از چپ‌به‌راست نمایش دهد. در این صورت این مقدار 0 تنظیم می‌شود.
7. در برنامهٔ آراسته از این استفاده نشده است. عدد پیش‌فرض 0 است.
8. تعداد بلوک‌های موجود در قلم

از بین این عددها، تنظیم موارد ۱، ۲، ۳ و ۵ ضروری است. موارد دیگر درحال‌حاضر در برنامهٔ آراسته کاربردی ندارند.

### بلوک‌ها

هر بلوک از تعدادی خط تشکیل شده است. در انتهای هر خط یک نویسهٔ @ وجود دارد. در انتهای خط آخر ۲ تا نویسهٔ @ وجود دارد.


قبل از شروع هر بلوک، نویسه‌ای که این بلوک مربوط به آن است نوشته می‌شود. تفاوت مهم این فرمت با فرمت flf نرم‌افزار figlet در این بخش است. در فرمت flf عادی، بالای هر بلوک دقیقاً یک نویسه قرار می‌گیرد. مثلاً M. 

اما در فرمتی که در نرم‌افزار آراسته از آن استفاده می‌شود، باتوجه‌به این که هر حرف فارسی ۲ یا ۴ حالت دارد که درصورت چسبیدن به حروف دیگر تغییر می‌کند (مثلاً برای حرف ع این‌ها هستند: ع، عـ، ـع، ـعـ) برای سهولت کار به‌جای گذاشتن معادل عینی آن‌ها در utf-8 این نویسه‌ها را با یک نویسهٔ کشیده (ـ) همراه می‌کنیم. پس برای مثال برای حرف ب، ۴ بلوک خواهیم داشت که بالای بلوک‌ها این‌ها نوشته شده است: «ب، بـ، ـب، ـبـ»

پس در طراحی قلم به این نکته توجه کنید.

## خط کرسی
خط کرسی در طراحی قلم بسیار مهم است. نرم‌افزار باتوجه‌به طول خط کرسی به‌ازای هر نویسه، بین آن و نویسه‌های دیگر فاصلهٔ لازم را ایجاد می‌کند. اگر خط کرسی کوتاه‌تر از حد لازم باشد، نویسه‌ها روی هم می‌افتند و اگر بلندتر از حد لازم باشد، نویسه‌ها فاصلهٔ زیادی از هم می‌گیرند.

البته لازم نیست که حتماً گلیف شما روی خط کرسی قرار گیرد. اما مهم است که طول خط کرسی را دقیق مشخص کنید. اگر لازم است آن را بلندتر کنید، یک تعداد نویسهٔ فاصله قبل از @ پایان آن بزنید.